<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Buy History</title>
    <link rel="stylesheet" href="stylesheets/history.css" />

    <script>
    
    function getBuy() {
       // done using promise using then function syntax
        fetch('stocks/buy').then(function(result) {
            return result.json();
        }).then(function (tradeList) {
        	 
        	

            let htmlString="";
            tradeList.map((trade) => {
            	
            	htmlString+="<div id=\"pricing-table\">";
                htmlString+= "<div class=\"plan\">";
                
                htmlString+="<h3>" + trade.ticker + "<span>" + trade.price +"$"+"</span></h3>";
                htmlString+="<a class=\"signup\" href=\"\">Sell</a>";
              
                htmlString+="<ul><li>" + trade.date+ "</li>";
                htmlString+="<li><b>Quantity:</b>" + trade.quantity+ "</li>";
                htmlString+="<li><b>State:</b>" + trade.state+ "</li></ul></div></div>";
                
                
            });
        
            document.getElementById("tradeDiv").innerHTML = htmlString;
        });
    }
   
           
    </script>
</head>


<body onLoad="getBuy()">
   
        <h1>Buy History</h1>
        
 
  <div id="tradeDiv"></div>
       
   
</body>
</html>